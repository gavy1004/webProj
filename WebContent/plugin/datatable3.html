<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>plugin/datatable3.html</title>
<script src="../js/jquery-3.6.0.min.js"></script>
<link rel="stylesheet"
	href="//cdn.datatables.net/1.10.24/css/jquery.dataTables.min.css">
<script src="//cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>
<script>
        var dataSet = [];
        
        $(document).ready(function () {	// 실행되는 순서대로 
        	  $.ajax({	// 비동기 방식 data를 가져오기 위해 ajax 호출 
              	url : '../emplDemoServlet2',
              	dataType : 'json',
              	success : function(data){	
              		console.log(data);
              		for(let row of data) {	// 배열일 경우 for of : 배열만큼 
              			dataSet.push(row);	// 성공시 dataset에 값 넣어줌 
              		}
              		// datatable 호출
              		  $('#example').DataTable({
                            data: dataSet,
                            columns: [
                                { title: "사원번호" },
                                { title: "이름" },
                                { title: "이메일" },
                                { title: "연락처" },
                                { title: "입사일자" },
                                { title: "급여" }
                            ]
                        });
              	},
              	error : function(err) {
              		console.log(err);
              	}
              });
        });
    </script>
</head>

<body>
	<table id="example" class="display" width="100%"></table>
</body>

</html>